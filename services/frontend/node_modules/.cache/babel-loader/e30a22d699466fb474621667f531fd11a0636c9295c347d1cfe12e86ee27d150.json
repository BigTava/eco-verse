{"ast":null,"code":"import A, { Fragment as i, createContext as G, useContext as L, useEffect as s, useRef as T, useState as m } from \"react\";\nimport { createPortal as x } from \"react-dom\";\nimport { forwardRefWithAs as P, render as d } from '../../utils/render.js';\nimport { useIsoMorphicEffect as b } from '../../hooks/use-iso-morphic-effect.js';\nimport { usePortalRoot as h } from '../../internal/portal-force-root.js';\nimport { useServerHandoffComplete as C } from '../../hooks/use-server-handoff-complete.js';\nimport { optionalRef as v, useSyncRefs as R } from '../../hooks/use-sync-refs.js';\nimport { useOwnerDocument as g } from '../../hooks/use-owner.js';\nimport { microTask as M } from '../../utils/micro-task.js';\nimport { env as E } from '../../utils/env.js';\nfunction H(u) {\n  let a = h(),\n    o = L(c),\n    e = g(u),\n    [l, n] = m(() => {\n      if (!a && o !== null || E.isServer) return null;\n      let t = e == null ? void 0 : e.getElementById(\"headlessui-portal-root\");\n      if (t) return t;\n      if (e === null) return null;\n      let r = e.createElement(\"div\");\n      return r.setAttribute(\"id\", \"headlessui-portal-root\"), e.body.appendChild(r);\n    });\n  return s(() => {\n    l !== null && (e != null && e.body.contains(l) || e == null || e.body.appendChild(l));\n  }, [l, e]), s(() => {\n    a || o !== null && n(o.current);\n  }, [o, n, a]), l;\n}\nlet O = i;\nfunction _(u, a) {\n  let o = u,\n    e = T(null),\n    l = R(v(p => {\n      e.current = p;\n    }), a),\n    n = g(e),\n    t = H(e),\n    [r] = m(() => {\n      var p;\n      return E.isServer ? null : (p = n == null ? void 0 : n.createElement(\"div\")) != null ? p : null;\n    }),\n    y = C(),\n    f = T(!1);\n  return b(() => {\n    if (f.current = !1, !(!t || !r)) return t.contains(r) || (r.setAttribute(\"data-headlessui-portal\", \"\"), t.appendChild(r)), () => {\n      f.current = !0, M(() => {\n        var p;\n        f.current && (!t || !r || (r instanceof Node && t.contains(r) && t.removeChild(r), t.childNodes.length <= 0 && ((p = t.parentElement) == null || p.removeChild(t))));\n      });\n    };\n  }, [t, r]), y ? !t || !r ? null : x(d({\n    ourProps: {\n      ref: l\n    },\n    theirProps: o,\n    defaultTag: O,\n    name: \"Portal\"\n  }), r) : null;\n}\nlet F = i,\n  c = G(null);\nfunction U(u, a) {\n  let {\n      target: o,\n      ...e\n    } = u,\n    n = {\n      ref: R(a)\n    };\n  return A.createElement(c.Provider, {\n    value: o\n  }, d({\n    ourProps: n,\n    theirProps: e,\n    defaultTag: F,\n    name: \"Popover.Group\"\n  }));\n}\nlet S = P(_),\n  j = P(U),\n  te = Object.assign(S, {\n    Group: j\n  });\nexport { te as Portal };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}