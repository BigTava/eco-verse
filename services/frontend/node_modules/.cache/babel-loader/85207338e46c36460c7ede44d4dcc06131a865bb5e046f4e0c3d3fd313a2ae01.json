{"ast":null,"code":"var Zr = Object.create;\nvar Je = Object.defineProperty;\nvar qr = Object.getOwnPropertyDescriptor;\nvar kr = Object.getOwnPropertyNames;\nvar et = Object.getPrototypeOf,\n  rt = Object.prototype.hasOwnProperty;\nvar ve = (b => typeof require != \"undefined\" ? require : typeof Proxy != \"undefined\" ? new Proxy(b, {\n  get: (A, R) => (typeof require != \"undefined\" ? require : A)[R]\n}) : b)(function (b) {\n  if (typeof require != \"undefined\") return require.apply(this, arguments);\n  throw new Error('Dynamic require of \"' + b + '\" is not supported');\n});\nvar $e = (b, A) => () => (A || b((A = {\n  exports: {}\n}).exports, A), A.exports);\nvar tt = (b, A, R, L) => {\n  if (A && typeof A == \"object\" || typeof A == \"function\") for (let D of kr(A)) !rt.call(b, D) && D !== R && Je(b, D, {\n    get: () => A[D],\n    enumerable: !(L = qr(A, D)) || L.enumerable\n  });\n  return b;\n};\nvar Ze = (b, A, R) => (R = b != null ? Zr(et(b)) : {}, tt(A || !b || !b.__esModule ? Je(R, \"default\", {\n  value: b,\n  enumerable: !0\n}) : R, b));\nvar se = (b, A, R) => new Promise((L, D) => {\n  var X = I => {\n      try {\n        Y(R.next(I));\n      } catch (M) {\n        D(M);\n      }\n    },\n    P = I => {\n      try {\n        Y(R.throw(I));\n      } catch (M) {\n        D(M);\n      }\n    },\n    Y = I => I.done ? L(I.value) : Promise.resolve(I.value).then(X, P);\n  Y((R = R.apply(b, A)).next());\n});\nvar ke = $e((qe, Ne) => {\n  (function (b) {\n    if (typeof qe == \"object\" && typeof Ne < \"u\") Ne.exports = b();else if (typeof define == \"function\" && define.amd) define([], b);else {\n      var A;\n      typeof window < \"u\" ? A = window : typeof global < \"u\" ? A = global : typeof self < \"u\" ? A = self : A = this, A.localforage = b();\n    }\n  })(function () {\n    var b, A, R;\n    return function L(D, X, P) {\n      function Y(H, $) {\n        if (!X[H]) {\n          if (!D[H]) {\n            var m = typeof ve == \"function\" && ve;\n            if (!$ && m) return m(H, !0);\n            if (I) return I(H, !0);\n            var _ = new Error(\"Cannot find module '\" + H + \"'\");\n            throw _.code = \"MODULE_NOT_FOUND\", _;\n          }\n          var B = X[H] = {\n            exports: {}\n          };\n          D[H][0].call(B.exports, function (z) {\n            var Z = D[H][1][z];\n            return Y(Z || z);\n          }, B, B.exports, L, D, X, P);\n        }\n        return X[H].exports;\n      }\n      for (var I = typeof ve == \"function\" && ve, M = 0; M < P.length; M++) Y(P[M]);\n      return Y;\n    }({\n      1: [function (L, D, X) {\n        (function (P) {\n          \"use strict\";\n\n          var Y = P.MutationObserver || P.WebKitMutationObserver,\n            I;\n          if (Y) {\n            var M = 0,\n              H = new Y(z),\n              $ = P.document.createTextNode(\"\");\n            H.observe($, {\n              characterData: !0\n            }), I = function () {\n              $.data = M = ++M % 2;\n            };\n          } else if (!P.setImmediate && typeof P.MessageChannel < \"u\") {\n            var m = new P.MessageChannel();\n            m.port1.onmessage = z, I = function () {\n              m.port2.postMessage(0);\n            };\n          } else \"document\" in P && \"onreadystatechange\" in P.document.createElement(\"script\") ? I = function () {\n            var F = P.document.createElement(\"script\");\n            F.onreadystatechange = function () {\n              z(), F.onreadystatechange = null, F.parentNode.removeChild(F), F = null;\n            }, P.document.documentElement.appendChild(F);\n          } : I = function () {\n            setTimeout(z, 0);\n          };\n          var _,\n            B = [];\n          function z() {\n            _ = !0;\n            for (var F, k, U = B.length; U;) {\n              for (k = B, B = [], F = -1; ++F < U;) k[F]();\n              U = B.length;\n            }\n            _ = !1;\n          }\n          D.exports = Z;\n          function Z(F) {\n            B.push(F) === 1 && !_ && I();\n          }\n        }).call(this, typeof global < \"u\" ? global : typeof self < \"u\" ? self : typeof window < \"u\" ? window : {});\n      }, {}],\n      2: [function (L, D, X) {\n        \"use strict\";\n\n        var P = L(1);\n        function Y() {}\n        var I = {},\n          M = [\"REJECTED\"],\n          H = [\"FULFILLED\"],\n          $ = [\"PENDING\"];\n        D.exports = m;\n        function m(h) {\n          if (typeof h != \"function\") throw new TypeError(\"resolver must be a function\");\n          this.state = $, this.queue = [], this.outcome = void 0, h !== Y && Z(this, h);\n        }\n        m.prototype.catch = function (h) {\n          return this.then(null, h);\n        }, m.prototype.then = function (h, N) {\n          if (typeof h != \"function\" && this.state === H || typeof N != \"function\" && this.state === M) return this;\n          var E = new this.constructor(Y);\n          if (this.state !== $) {\n            var O = this.state === H ? h : N;\n            B(E, O, this.outcome);\n          } else this.queue.push(new _(E, h, N));\n          return E;\n        };\n        function _(h, N, E) {\n          this.promise = h, typeof N == \"function\" && (this.onFulfilled = N, this.callFulfilled = this.otherCallFulfilled), typeof E == \"function\" && (this.onRejected = E, this.callRejected = this.otherCallRejected);\n        }\n        _.prototype.callFulfilled = function (h) {\n          I.resolve(this.promise, h);\n        }, _.prototype.otherCallFulfilled = function (h) {\n          B(this.promise, this.onFulfilled, h);\n        }, _.prototype.callRejected = function (h) {\n          I.reject(this.promise, h);\n        }, _.prototype.otherCallRejected = function (h) {\n          B(this.promise, this.onRejected, h);\n        };\n        function B(h, N, E) {\n          P(function () {\n            var O;\n            try {\n              O = N(E);\n            } catch (V) {\n              return I.reject(h, V);\n            }\n            O === h ? I.reject(h, new TypeError(\"Cannot resolve promise with itself\")) : I.resolve(h, O);\n          });\n        }\n        I.resolve = function (h, N) {\n          var E = F(z, N);\n          if (E.status === \"error\") return I.reject(h, E.value);\n          var O = E.value;\n          if (O) Z(h, O);else {\n            h.state = H, h.outcome = N;\n            for (var V = -1, j = h.queue.length; ++V < j;) h.queue[V].callFulfilled(N);\n          }\n          return h;\n        }, I.reject = function (h, N) {\n          h.state = M, h.outcome = N;\n          for (var E = -1, O = h.queue.length; ++E < O;) h.queue[E].callRejected(N);\n          return h;\n        };\n        function z(h) {\n          var N = h && h.then;\n          if (h && (typeof h == \"object\" || typeof h == \"function\") && typeof N == \"function\") return function () {\n            N.apply(h, arguments);\n          };\n        }\n        function Z(h, N) {\n          var E = !1;\n          function O(J) {\n            E || (E = !0, I.reject(h, J));\n          }\n          function V(J) {\n            E || (E = !0, I.resolve(h, J));\n          }\n          function j() {\n            N(V, O);\n          }\n          var Q = F(j);\n          Q.status === \"error\" && O(Q.value);\n        }\n        function F(h, N) {\n          var E = {};\n          try {\n            E.value = h(N), E.status = \"success\";\n          } catch (O) {\n            E.status = \"error\", E.value = O;\n          }\n          return E;\n        }\n        m.resolve = k;\n        function k(h) {\n          return h instanceof this ? h : I.resolve(new this(Y), h);\n        }\n        m.reject = U;\n        function U(h) {\n          var N = new this(Y);\n          return I.reject(N, h);\n        }\n        m.all = ae;\n        function ae(h) {\n          var N = this;\n          if (Object.prototype.toString.call(h) !== \"[object Array]\") return this.reject(new TypeError(\"must be an array\"));\n          var E = h.length,\n            O = !1;\n          if (!E) return this.resolve([]);\n          for (var V = new Array(E), j = 0, Q = -1, J = new this(Y); ++Q < E;) ee(h[Q], Q);\n          return J;\n          function ee(oe, a) {\n            N.resolve(oe).then(s, function (v) {\n              O || (O = !0, I.reject(J, v));\n            });\n            function s(v) {\n              V[a] = v, ++j === E && !O && (O = !0, I.resolve(J, V));\n            }\n          }\n        }\n        m.race = re;\n        function re(h) {\n          var N = this;\n          if (Object.prototype.toString.call(h) !== \"[object Array]\") return this.reject(new TypeError(\"must be an array\"));\n          var E = h.length,\n            O = !1;\n          if (!E) return this.resolve([]);\n          for (var V = -1, j = new this(Y); ++V < E;) Q(h[V]);\n          return j;\n          function Q(J) {\n            N.resolve(J).then(function (ee) {\n              O || (O = !0, I.resolve(j, ee));\n            }, function (ee) {\n              O || (O = !0, I.reject(j, ee));\n            });\n          }\n        }\n      }, {\n        1: 1\n      }],\n      3: [function (L, D, X) {\n        (function (P) {\n          \"use strict\";\n\n          typeof P.Promise != \"function\" && (P.Promise = L(2));\n        }).call(this, typeof global < \"u\" ? global : typeof self < \"u\" ? self : typeof window < \"u\" ? window : {});\n      }, {\n        2: 2\n      }],\n      4: [function (L, D, X) {\n        \"use strict\";\n\n        var P = typeof Symbol == \"function\" && typeof Symbol.iterator == \"symbol\" ? function (e) {\n          return typeof e;\n        } : function (e) {\n          return e && typeof Symbol == \"function\" && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        };\n        function Y(e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        function I() {\n          try {\n            if (typeof indexedDB < \"u\") return indexedDB;\n            if (typeof webkitIndexedDB < \"u\") return webkitIndexedDB;\n            if (typeof mozIndexedDB < \"u\") return mozIndexedDB;\n            if (typeof OIndexedDB < \"u\") return OIndexedDB;\n            if (typeof msIndexedDB < \"u\") return msIndexedDB;\n          } catch {\n            return;\n          }\n        }\n        var M = I();\n        function H() {\n          try {\n            if (!M || !M.open) return !1;\n            var e = typeof openDatabase < \"u\" && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform),\n              t = typeof fetch == \"function\" && fetch.toString().indexOf(\"[native code\") !== -1;\n            return (!e || t) && typeof indexedDB < \"u\" && typeof IDBKeyRange < \"u\";\n          } catch {\n            return !1;\n          }\n        }\n        function $(e, t) {\n          e = e || [], t = t || {};\n          try {\n            return new Blob(e, t);\n          } catch (n) {\n            if (n.name !== \"TypeError\") throw n;\n            for (var r = typeof BlobBuilder < \"u\" ? BlobBuilder : typeof MSBlobBuilder < \"u\" ? MSBlobBuilder : typeof MozBlobBuilder < \"u\" ? MozBlobBuilder : WebKitBlobBuilder, o = new r(), i = 0; i < e.length; i += 1) o.append(e[i]);\n            return o.getBlob(t.type);\n          }\n        }\n        typeof Promise > \"u\" && L(3);\n        var m = Promise;\n        function _(e, t) {\n          t && e.then(function (r) {\n            t(null, r);\n          }, function (r) {\n            t(r);\n          });\n        }\n        function B(e, t, r) {\n          typeof t == \"function\" && e.then(t), typeof r == \"function\" && e.catch(r);\n        }\n        function z(e) {\n          return typeof e != \"string\" && (console.warn(e + \" used as a key, but it is not a string.\"), e = String(e)), e;\n        }\n        function Z() {\n          if (arguments.length && typeof arguments[arguments.length - 1] == \"function\") return arguments[arguments.length - 1];\n        }\n        var F = \"local-forage-detect-blob-support\",\n          k = void 0,\n          U = {},\n          ae = Object.prototype.toString,\n          re = \"readonly\",\n          h = \"readwrite\";\n        function N(e) {\n          for (var t = e.length, r = new ArrayBuffer(t), o = new Uint8Array(r), i = 0; i < t; i++) o[i] = e.charCodeAt(i);\n          return r;\n        }\n        function E(e) {\n          return new m(function (t) {\n            var r = e.transaction(F, h),\n              o = $([\"\"]);\n            r.objectStore(F).put(o, \"key\"), r.onabort = function (i) {\n              i.preventDefault(), i.stopPropagation(), t(!1);\n            }, r.oncomplete = function () {\n              var i = navigator.userAgent.match(/Chrome\\/(\\d+)/),\n                n = navigator.userAgent.match(/Edge\\//);\n              t(n || !i || parseInt(i[1], 10) >= 43);\n            };\n          }).catch(function () {\n            return !1;\n          });\n        }\n        function O(e) {\n          return typeof k == \"boolean\" ? m.resolve(k) : E(e).then(function (t) {\n            return k = t, k;\n          });\n        }\n        function V(e) {\n          var t = U[e.name],\n            r = {};\n          r.promise = new m(function (o, i) {\n            r.resolve = o, r.reject = i;\n          }), t.deferredOperations.push(r), t.dbReady ? t.dbReady = t.dbReady.then(function () {\n            return r.promise;\n          }) : t.dbReady = r.promise;\n        }\n        function j(e) {\n          var t = U[e.name],\n            r = t.deferredOperations.pop();\n          if (r) return r.resolve(), r.promise;\n        }\n        function Q(e, t) {\n          var r = U[e.name],\n            o = r.deferredOperations.pop();\n          if (o) return o.reject(t), o.promise;\n        }\n        function J(e, t) {\n          return new m(function (r, o) {\n            if (U[e.name] = U[e.name] || G(), e.db) if (t) V(e), e.db.close();else return r(e.db);\n            var i = [e.name];\n            t && i.push(e.version);\n            var n = M.open.apply(M, i);\n            t && (n.onupgradeneeded = function (f) {\n              var u = n.result;\n              try {\n                u.createObjectStore(e.storeName), f.oldVersion <= 1 && u.createObjectStore(F);\n              } catch (c) {\n                if (c.name === \"ConstraintError\") console.warn('The database \"' + e.name + '\" has been upgraded from version ' + f.oldVersion + \" to version \" + f.newVersion + ', but the storage \"' + e.storeName + '\" already exists.');else throw c;\n              }\n            }), n.onerror = function (f) {\n              f.preventDefault(), o(n.error);\n            }, n.onsuccess = function () {\n              var f = n.result;\n              f.onversionchange = function (u) {\n                u.target.close();\n              }, r(f), j(e);\n            };\n          });\n        }\n        function ee(e) {\n          return J(e, !1);\n        }\n        function oe(e) {\n          return J(e, !0);\n        }\n        function a(e, t) {\n          if (!e.db) return !0;\n          var r = !e.db.objectStoreNames.contains(e.storeName),\n            o = e.version < e.db.version,\n            i = e.version > e.db.version;\n          if (o && (e.version !== t && console.warn('The database \"' + e.name + `\" can't be downgraded from version ` + e.db.version + \" to version \" + e.version + \".\"), e.version = e.db.version), i || r) {\n            if (r) {\n              var n = e.db.version + 1;\n              n > e.version && (e.version = n);\n            }\n            return !0;\n          }\n          return !1;\n        }\n        function s(e) {\n          return new m(function (t, r) {\n            var o = new FileReader();\n            o.onerror = r, o.onloadend = function (i) {\n              var n = btoa(i.target.result || \"\");\n              t({\n                __local_forage_encoded_blob: !0,\n                data: n,\n                type: e.type\n              });\n            }, o.readAsBinaryString(e);\n          });\n        }\n        function v(e) {\n          var t = N(atob(e.data));\n          return $([t], {\n            type: e.type\n          });\n        }\n        function p(e) {\n          return e && e.__local_forage_encoded_blob;\n        }\n        function g(e) {\n          var t = this,\n            r = t._initReady().then(function () {\n              var o = U[t._dbInfo.name];\n              if (o && o.dbReady) return o.dbReady;\n            });\n          return B(r, e, e), r;\n        }\n        function w(e) {\n          V(e);\n          for (var t = U[e.name], r = t.forages, o = 0; o < r.length; o++) {\n            var i = r[o];\n            i._dbInfo.db && (i._dbInfo.db.close(), i._dbInfo.db = null);\n          }\n          return e.db = null, ee(e).then(function (n) {\n            return e.db = n, a(e) ? oe(e) : n;\n          }).then(function (n) {\n            e.db = t.db = n;\n            for (var f = 0; f < r.length; f++) r[f]._dbInfo.db = n;\n          }).catch(function (n) {\n            throw Q(e, n), n;\n          });\n        }\n        function T(e, t, r, o) {\n          o === void 0 && (o = 1);\n          try {\n            var i = e.db.transaction(e.storeName, t);\n            r(null, i);\n          } catch (n) {\n            if (o > 0 && (!e.db || n.name === \"InvalidStateError\" || n.name === \"NotFoundError\")) return m.resolve().then(function () {\n              if (!e.db || n.name === \"NotFoundError\" && !e.db.objectStoreNames.contains(e.storeName) && e.version <= e.db.version) return e.db && (e.version = e.db.version + 1), oe(e);\n            }).then(function () {\n              return w(e).then(function () {\n                T(e, t, r, o - 1);\n              });\n            }).catch(r);\n            r(n);\n          }\n        }\n        function G() {\n          return {\n            forages: [],\n            db: null,\n            dbReady: null,\n            deferredOperations: []\n          };\n        }\n        function fe(e) {\n          var t = this,\n            r = {\n              db: null\n            };\n          if (e) for (var o in e) r[o] = e[o];\n          var i = U[r.name];\n          i || (i = G(), U[r.name] = i), i.forages.push(t), t._initReady || (t._initReady = t.ready, t.ready = g);\n          var n = [];\n          function f() {\n            return m.resolve();\n          }\n          for (var u = 0; u < i.forages.length; u++) {\n            var c = i.forages[u];\n            c !== t && n.push(c._initReady().catch(f));\n          }\n          var l = i.forages.slice(0);\n          return m.all(n).then(function () {\n            return r.db = i.db, ee(r);\n          }).then(function (d) {\n            return r.db = d, a(r, t._defaultConfig.version) ? oe(r) : d;\n          }).then(function (d) {\n            r.db = i.db = d, t._dbInfo = r;\n            for (var y = 0; y < l.length; y++) {\n              var S = l[y];\n              S !== t && (S._dbInfo.db = r.db, S._dbInfo.version = r.version);\n            }\n          });\n        }\n        function ie(e, t) {\n          var r = this;\n          e = z(e);\n          var o = new m(function (i, n) {\n            r.ready().then(function () {\n              T(r._dbInfo, re, function (f, u) {\n                if (f) return n(f);\n                try {\n                  var c = u.objectStore(r._dbInfo.storeName),\n                    l = c.get(e);\n                  l.onsuccess = function () {\n                    var d = l.result;\n                    d === void 0 && (d = null), p(d) && (d = v(d)), i(d);\n                  }, l.onerror = function () {\n                    n(l.error);\n                  };\n                } catch (d) {\n                  n(d);\n                }\n              });\n            }).catch(n);\n          });\n          return _(o, t), o;\n        }\n        function ce(e, t) {\n          var r = this,\n            o = new m(function (i, n) {\n              r.ready().then(function () {\n                T(r._dbInfo, re, function (f, u) {\n                  if (f) return n(f);\n                  try {\n                    var c = u.objectStore(r._dbInfo.storeName),\n                      l = c.openCursor(),\n                      d = 1;\n                    l.onsuccess = function () {\n                      var y = l.result;\n                      if (y) {\n                        var S = y.value;\n                        p(S) && (S = v(S));\n                        var x = e(S, y.key, d++);\n                        x !== void 0 ? i(x) : y.continue();\n                      } else i();\n                    }, l.onerror = function () {\n                      n(l.error);\n                    };\n                  } catch (y) {\n                    n(y);\n                  }\n                });\n              }).catch(n);\n            });\n          return _(o, t), o;\n        }\n        function nr(e, t, r) {\n          var o = this;\n          e = z(e);\n          var i = new m(function (n, f) {\n            var u;\n            o.ready().then(function () {\n              return u = o._dbInfo, ae.call(t) === \"[object Blob]\" ? O(u.db).then(function (c) {\n                return c ? t : s(t);\n              }) : t;\n            }).then(function (c) {\n              T(o._dbInfo, h, function (l, d) {\n                if (l) return f(l);\n                try {\n                  var y = d.objectStore(o._dbInfo.storeName);\n                  c === null && (c = void 0);\n                  var S = y.put(c, e);\n                  d.oncomplete = function () {\n                    c === void 0 && (c = null), n(c);\n                  }, d.onabort = d.onerror = function () {\n                    var x = S.error ? S.error : S.transaction.error;\n                    f(x);\n                  };\n                } catch (x) {\n                  f(x);\n                }\n              });\n            }).catch(f);\n          });\n          return _(i, r), i;\n        }\n        function or(e, t) {\n          var r = this;\n          e = z(e);\n          var o = new m(function (i, n) {\n            r.ready().then(function () {\n              T(r._dbInfo, h, function (f, u) {\n                if (f) return n(f);\n                try {\n                  var c = u.objectStore(r._dbInfo.storeName),\n                    l = c.delete(e);\n                  u.oncomplete = function () {\n                    i();\n                  }, u.onerror = function () {\n                    n(l.error);\n                  }, u.onabort = function () {\n                    var d = l.error ? l.error : l.transaction.error;\n                    n(d);\n                  };\n                } catch (d) {\n                  n(d);\n                }\n              });\n            }).catch(n);\n          });\n          return _(o, t), o;\n        }\n        function ir(e) {\n          var t = this,\n            r = new m(function (o, i) {\n              t.ready().then(function () {\n                T(t._dbInfo, h, function (n, f) {\n                  if (n) return i(n);\n                  try {\n                    var u = f.objectStore(t._dbInfo.storeName),\n                      c = u.clear();\n                    f.oncomplete = function () {\n                      o();\n                    }, f.onabort = f.onerror = function () {\n                      var l = c.error ? c.error : c.transaction.error;\n                      i(l);\n                    };\n                  } catch (l) {\n                    i(l);\n                  }\n                });\n              }).catch(i);\n            });\n          return _(r, e), r;\n        }\n        function ar(e) {\n          var t = this,\n            r = new m(function (o, i) {\n              t.ready().then(function () {\n                T(t._dbInfo, re, function (n, f) {\n                  if (n) return i(n);\n                  try {\n                    var u = f.objectStore(t._dbInfo.storeName),\n                      c = u.count();\n                    c.onsuccess = function () {\n                      o(c.result);\n                    }, c.onerror = function () {\n                      i(c.error);\n                    };\n                  } catch (l) {\n                    i(l);\n                  }\n                });\n              }).catch(i);\n            });\n          return _(r, e), r;\n        }\n        function fr(e, t) {\n          var r = this,\n            o = new m(function (i, n) {\n              if (e < 0) {\n                i(null);\n                return;\n              }\n              r.ready().then(function () {\n                T(r._dbInfo, re, function (f, u) {\n                  if (f) return n(f);\n                  try {\n                    var c = u.objectStore(r._dbInfo.storeName),\n                      l = !1,\n                      d = c.openKeyCursor();\n                    d.onsuccess = function () {\n                      var y = d.result;\n                      if (!y) {\n                        i(null);\n                        return;\n                      }\n                      e === 0 || l ? i(y.key) : (l = !0, y.advance(e));\n                    }, d.onerror = function () {\n                      n(d.error);\n                    };\n                  } catch (y) {\n                    n(y);\n                  }\n                });\n              }).catch(n);\n            });\n          return _(o, t), o;\n        }\n        function ur(e) {\n          var t = this,\n            r = new m(function (o, i) {\n              t.ready().then(function () {\n                T(t._dbInfo, re, function (n, f) {\n                  if (n) return i(n);\n                  try {\n                    var u = f.objectStore(t._dbInfo.storeName),\n                      c = u.openKeyCursor(),\n                      l = [];\n                    c.onsuccess = function () {\n                      var d = c.result;\n                      if (!d) {\n                        o(l);\n                        return;\n                      }\n                      l.push(d.key), d.continue();\n                    }, c.onerror = function () {\n                      i(c.error);\n                    };\n                  } catch (d) {\n                    i(d);\n                  }\n                });\n              }).catch(i);\n            });\n          return _(r, e), r;\n        }\n        function sr(e, t) {\n          t = Z.apply(this, arguments);\n          var r = this.config();\n          e = typeof e != \"function\" && e || {}, e.name || (e.name = e.name || r.name, e.storeName = e.storeName || r.storeName);\n          var o = this,\n            i;\n          if (!e.name) i = m.reject(\"Invalid arguments\");else {\n            var n = e.name === r.name && o._dbInfo.db,\n              f = n ? m.resolve(o._dbInfo.db) : ee(e).then(function (u) {\n                var c = U[e.name],\n                  l = c.forages;\n                c.db = u;\n                for (var d = 0; d < l.length; d++) l[d]._dbInfo.db = u;\n                return u;\n              });\n            e.storeName ? i = f.then(function (u) {\n              if (!!u.objectStoreNames.contains(e.storeName)) {\n                var c = u.version + 1;\n                V(e);\n                var l = U[e.name],\n                  d = l.forages;\n                u.close();\n                for (var y = 0; y < d.length; y++) {\n                  var S = d[y];\n                  S._dbInfo.db = null, S._dbInfo.version = c;\n                }\n                var x = new m(function (C, K) {\n                  var W = M.open(e.name, c);\n                  W.onerror = function (q) {\n                    var de = W.result;\n                    de.close(), K(q);\n                  }, W.onupgradeneeded = function () {\n                    var q = W.result;\n                    q.deleteObjectStore(e.storeName);\n                  }, W.onsuccess = function () {\n                    var q = W.result;\n                    q.close(), C(q);\n                  };\n                });\n                return x.then(function (C) {\n                  l.db = C;\n                  for (var K = 0; K < d.length; K++) {\n                    var W = d[K];\n                    W._dbInfo.db = C, j(W._dbInfo);\n                  }\n                }).catch(function (C) {\n                  throw (Q(e, C) || m.resolve()).catch(function () {}), C;\n                });\n              }\n            }) : i = f.then(function (u) {\n              V(e);\n              var c = U[e.name],\n                l = c.forages;\n              u.close();\n              for (var d = 0; d < l.length; d++) {\n                var y = l[d];\n                y._dbInfo.db = null;\n              }\n              var S = new m(function (x, C) {\n                var K = M.deleteDatabase(e.name);\n                K.onerror = function () {\n                  var W = K.result;\n                  W && W.close(), C(K.error);\n                }, K.onblocked = function () {\n                  console.warn('dropInstance blocked for database \"' + e.name + '\" until all open connections are closed');\n                }, K.onsuccess = function () {\n                  var W = K.result;\n                  W && W.close(), x(W);\n                };\n              });\n              return S.then(function (x) {\n                c.db = x;\n                for (var C = 0; C < l.length; C++) {\n                  var K = l[C];\n                  j(K._dbInfo);\n                }\n              }).catch(function (x) {\n                throw (Q(e, x) || m.resolve()).catch(function () {}), x;\n              });\n            });\n          }\n          return _(i, t), i;\n        }\n        var cr = {\n          _driver: \"asyncStorage\",\n          _initStorage: fe,\n          _support: H(),\n          iterate: ce,\n          getItem: ie,\n          setItem: nr,\n          removeItem: or,\n          clear: ir,\n          length: ar,\n          key: fr,\n          keys: ur,\n          dropInstance: sr\n        };\n        function lr() {\n          return typeof openDatabase == \"function\";\n        }\n        var te = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n          dr = \"~~local_forage_type~\",\n          Be = /^~~local_forage_type~([^~]+)~/,\n          he = \"__lfsc__:\",\n          be = he.length,\n          _e = \"arbf\",\n          we = \"blob\",\n          xe = \"si08\",\n          Oe = \"ui08\",\n          Ce = \"uic8\",\n          Le = \"si16\",\n          Pe = \"si32\",\n          Me = \"ur16\",\n          Fe = \"ui32\",\n          Ue = \"fl32\",\n          Ye = \"fl64\",\n          ze = be + _e.length,\n          We = Object.prototype.toString;\n        function Ke(e) {\n          var t = e.length * .75,\n            r = e.length,\n            o,\n            i = 0,\n            n,\n            f,\n            u,\n            c;\n          e[e.length - 1] === \"=\" && (t--, e[e.length - 2] === \"=\" && t--);\n          var l = new ArrayBuffer(t),\n            d = new Uint8Array(l);\n          for (o = 0; o < r; o += 4) n = te.indexOf(e[o]), f = te.indexOf(e[o + 1]), u = te.indexOf(e[o + 2]), c = te.indexOf(e[o + 3]), d[i++] = n << 2 | f >> 4, d[i++] = (f & 15) << 4 | u >> 2, d[i++] = (u & 3) << 6 | c & 63;\n          return l;\n        }\n        function Ee(e) {\n          var t = new Uint8Array(e),\n            r = \"\",\n            o;\n          for (o = 0; o < t.length; o += 3) r += te[t[o] >> 2], r += te[(t[o] & 3) << 4 | t[o + 1] >> 4], r += te[(t[o + 1] & 15) << 2 | t[o + 2] >> 6], r += te[t[o + 2] & 63];\n          return t.length % 3 === 2 ? r = r.substring(0, r.length - 1) + \"=\" : t.length % 3 === 1 && (r = r.substring(0, r.length - 2) + \"==\"), r;\n        }\n        function vr(e, t) {\n          var r = \"\";\n          if (e && (r = We.call(e)), e && (r === \"[object ArrayBuffer]\" || e.buffer && We.call(e.buffer) === \"[object ArrayBuffer]\")) {\n            var o,\n              i = he;\n            e instanceof ArrayBuffer ? (o = e, i += _e) : (o = e.buffer, r === \"[object Int8Array]\" ? i += xe : r === \"[object Uint8Array]\" ? i += Oe : r === \"[object Uint8ClampedArray]\" ? i += Ce : r === \"[object Int16Array]\" ? i += Le : r === \"[object Uint16Array]\" ? i += Me : r === \"[object Int32Array]\" ? i += Pe : r === \"[object Uint32Array]\" ? i += Fe : r === \"[object Float32Array]\" ? i += Ue : r === \"[object Float64Array]\" ? i += Ye : t(new Error(\"Failed to get type for BinaryArray\"))), t(i + Ee(o));\n          } else if (r === \"[object Blob]\") {\n            var n = new FileReader();\n            n.onload = function () {\n              var f = dr + e.type + \"~\" + Ee(this.result);\n              t(he + we + f);\n            }, n.readAsArrayBuffer(e);\n          } else try {\n            t(JSON.stringify(e));\n          } catch (f) {\n            console.error(\"Couldn't convert value into a JSON string: \", e), t(null, f);\n          }\n        }\n        function hr(e) {\n          if (e.substring(0, be) !== he) return JSON.parse(e);\n          var t = e.substring(ze),\n            r = e.substring(be, ze),\n            o;\n          if (r === we && Be.test(t)) {\n            var i = t.match(Be);\n            o = i[1], t = t.substring(i[0].length);\n          }\n          var n = Ke(t);\n          switch (r) {\n            case _e:\n              return n;\n            case we:\n              return $([n], {\n                type: o\n              });\n            case xe:\n              return new Int8Array(n);\n            case Oe:\n              return new Uint8Array(n);\n            case Ce:\n              return new Uint8ClampedArray(n);\n            case Le:\n              return new Int16Array(n);\n            case Me:\n              return new Uint16Array(n);\n            case Pe:\n              return new Int32Array(n);\n            case Fe:\n              return new Uint32Array(n);\n            case Ue:\n              return new Float32Array(n);\n            case Ye:\n              return new Float64Array(n);\n            default:\n              throw new Error(\"Unkown type: \" + r);\n          }\n        }\n        var Ie = {\n          serialize: vr,\n          deserialize: hr,\n          stringToBuffer: Ke,\n          bufferToString: Ee\n        };\n        function He(e, t, r, o) {\n          e.executeSql(\"CREATE TABLE IF NOT EXISTS \" + t.storeName + \" (id INTEGER PRIMARY KEY, key unique, value)\", [], r, o);\n        }\n        function mr(e) {\n          var t = this,\n            r = {\n              db: null\n            };\n          if (e) for (var o in e) r[o] = typeof e[o] != \"string\" ? e[o].toString() : e[o];\n          var i = new m(function (n, f) {\n            try {\n              r.db = openDatabase(r.name, String(r.version), r.description, r.size);\n            } catch (u) {\n              return f(u);\n            }\n            r.db.transaction(function (u) {\n              He(u, r, function () {\n                t._dbInfo = r, n();\n              }, function (c, l) {\n                f(l);\n              });\n            }, f);\n          });\n          return r.serializer = Ie, i;\n        }\n        function ne(e, t, r, o, i, n) {\n          e.executeSql(r, o, i, function (f, u) {\n            u.code === u.SYNTAX_ERR ? f.executeSql(\"SELECT name FROM sqlite_master WHERE type='table' AND name = ?\", [t.storeName], function (c, l) {\n              l.rows.length ? n(c, u) : He(c, t, function () {\n                c.executeSql(r, o, i, n);\n              }, n);\n            }, n) : n(f, u);\n          }, n);\n        }\n        function yr(e, t) {\n          var r = this;\n          e = z(e);\n          var o = new m(function (i, n) {\n            r.ready().then(function () {\n              var f = r._dbInfo;\n              f.db.transaction(function (u) {\n                ne(u, f, \"SELECT * FROM \" + f.storeName + \" WHERE key = ? LIMIT 1\", [e], function (c, l) {\n                  var d = l.rows.length ? l.rows.item(0).value : null;\n                  d && (d = f.serializer.deserialize(d)), i(d);\n                }, function (c, l) {\n                  n(l);\n                });\n              });\n            }).catch(n);\n          });\n          return _(o, t), o;\n        }\n        function pr(e, t) {\n          var r = this,\n            o = new m(function (i, n) {\n              r.ready().then(function () {\n                var f = r._dbInfo;\n                f.db.transaction(function (u) {\n                  ne(u, f, \"SELECT * FROM \" + f.storeName, [], function (c, l) {\n                    for (var d = l.rows, y = d.length, S = 0; S < y; S++) {\n                      var x = d.item(S),\n                        C = x.value;\n                      if (C && (C = f.serializer.deserialize(C)), C = e(C, x.key, S + 1), C !== void 0) {\n                        i(C);\n                        return;\n                      }\n                    }\n                    i();\n                  }, function (c, l) {\n                    n(l);\n                  });\n                });\n              }).catch(n);\n            });\n          return _(o, t), o;\n        }\n        function Ve(e, t, r, o) {\n          var i = this;\n          e = z(e);\n          var n = new m(function (f, u) {\n            i.ready().then(function () {\n              t === void 0 && (t = null);\n              var c = t,\n                l = i._dbInfo;\n              l.serializer.serialize(t, function (d, y) {\n                y ? u(y) : l.db.transaction(function (S) {\n                  ne(S, l, \"INSERT OR REPLACE INTO \" + l.storeName + \" (key, value) VALUES (?, ?)\", [e, d], function () {\n                    f(c);\n                  }, function (x, C) {\n                    u(C);\n                  });\n                }, function (S) {\n                  if (S.code === S.QUOTA_ERR) {\n                    if (o > 0) {\n                      f(Ve.apply(i, [e, c, r, o - 1]));\n                      return;\n                    }\n                    u(S);\n                  }\n                });\n              });\n            }).catch(u);\n          });\n          return _(n, r), n;\n        }\n        function gr(e, t, r) {\n          return Ve.apply(this, [e, t, r, 1]);\n        }\n        function br(e, t) {\n          var r = this;\n          e = z(e);\n          var o = new m(function (i, n) {\n            r.ready().then(function () {\n              var f = r._dbInfo;\n              f.db.transaction(function (u) {\n                ne(u, f, \"DELETE FROM \" + f.storeName + \" WHERE key = ?\", [e], function () {\n                  i();\n                }, function (c, l) {\n                  n(l);\n                });\n              });\n            }).catch(n);\n          });\n          return _(o, t), o;\n        }\n        function _r(e) {\n          var t = this,\n            r = new m(function (o, i) {\n              t.ready().then(function () {\n                var n = t._dbInfo;\n                n.db.transaction(function (f) {\n                  ne(f, n, \"DELETE FROM \" + n.storeName, [], function () {\n                    o();\n                  }, function (u, c) {\n                    i(c);\n                  });\n                });\n              }).catch(i);\n            });\n          return _(r, e), r;\n        }\n        function wr(e) {\n          var t = this,\n            r = new m(function (o, i) {\n              t.ready().then(function () {\n                var n = t._dbInfo;\n                n.db.transaction(function (f) {\n                  ne(f, n, \"SELECT COUNT(key) as c FROM \" + n.storeName, [], function (u, c) {\n                    var l = c.rows.item(0).c;\n                    o(l);\n                  }, function (u, c) {\n                    i(c);\n                  });\n                });\n              }).catch(i);\n            });\n          return _(r, e), r;\n        }\n        function Er(e, t) {\n          var r = this,\n            o = new m(function (i, n) {\n              r.ready().then(function () {\n                var f = r._dbInfo;\n                f.db.transaction(function (u) {\n                  ne(u, f, \"SELECT key FROM \" + f.storeName + \" WHERE id = ? LIMIT 1\", [e + 1], function (c, l) {\n                    var d = l.rows.length ? l.rows.item(0).key : null;\n                    i(d);\n                  }, function (c, l) {\n                    n(l);\n                  });\n                });\n              }).catch(n);\n            });\n          return _(o, t), o;\n        }\n        function Ir(e) {\n          var t = this,\n            r = new m(function (o, i) {\n              t.ready().then(function () {\n                var n = t._dbInfo;\n                n.db.transaction(function (f) {\n                  ne(f, n, \"SELECT key FROM \" + n.storeName, [], function (u, c) {\n                    for (var l = [], d = 0; d < c.rows.length; d++) l.push(c.rows.item(d).key);\n                    o(l);\n                  }, function (u, c) {\n                    i(c);\n                  });\n                });\n              }).catch(i);\n            });\n          return _(r, e), r;\n        }\n        function Sr(e) {\n          return new m(function (t, r) {\n            e.transaction(function (o) {\n              o.executeSql(\"SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (i, n) {\n                for (var f = [], u = 0; u < n.rows.length; u++) f.push(n.rows.item(u).name);\n                t({\n                  db: e,\n                  storeNames: f\n                });\n              }, function (i, n) {\n                r(n);\n              });\n            }, function (o) {\n              r(o);\n            });\n          });\n        }\n        function Ar(e, t) {\n          t = Z.apply(this, arguments);\n          var r = this.config();\n          e = typeof e != \"function\" && e || {}, e.name || (e.name = e.name || r.name, e.storeName = e.storeName || r.storeName);\n          var o = this,\n            i;\n          return e.name ? i = new m(function (n) {\n            var f;\n            e.name === r.name ? f = o._dbInfo.db : f = openDatabase(e.name, \"\", \"\", 0), e.storeName ? n({\n              db: f,\n              storeNames: [e.storeName]\n            }) : n(Sr(f));\n          }).then(function (n) {\n            return new m(function (f, u) {\n              n.db.transaction(function (c) {\n                function l(x) {\n                  return new m(function (C, K) {\n                    c.executeSql(\"DROP TABLE IF EXISTS \" + x, [], function () {\n                      C();\n                    }, function (W, q) {\n                      K(q);\n                    });\n                  });\n                }\n                for (var d = [], y = 0, S = n.storeNames.length; y < S; y++) d.push(l(n.storeNames[y]));\n                m.all(d).then(function () {\n                  f();\n                }).catch(function (x) {\n                  u(x);\n                });\n              }, function (c) {\n                u(c);\n              });\n            });\n          }) : i = m.reject(\"Invalid arguments\"), _(i, t), i;\n        }\n        var Rr = {\n          _driver: \"webSQLStorage\",\n          _initStorage: mr,\n          _support: lr(),\n          iterate: pr,\n          getItem: yr,\n          setItem: gr,\n          removeItem: br,\n          clear: _r,\n          length: wr,\n          key: Er,\n          keys: Ir,\n          dropInstance: Ar\n        };\n        function Dr() {\n          try {\n            return typeof localStorage < \"u\" && \"setItem\" in localStorage && !!localStorage.setItem;\n          } catch {\n            return !1;\n          }\n        }\n        function Ge(e, t) {\n          var r = e.name + \"/\";\n          return e.storeName !== t.storeName && (r += e.storeName + \"/\"), r;\n        }\n        function Nr() {\n          var e = \"_localforage_support_test\";\n          try {\n            return localStorage.setItem(e, !0), localStorage.removeItem(e), !1;\n          } catch {\n            return !0;\n          }\n        }\n        function Tr() {\n          return !Nr() || localStorage.length > 0;\n        }\n        function Br(e) {\n          var t = this,\n            r = {};\n          if (e) for (var o in e) r[o] = e[o];\n          return r.keyPrefix = Ge(e, t._defaultConfig), Tr() ? (t._dbInfo = r, r.serializer = Ie, m.resolve()) : m.reject();\n        }\n        function xr(e) {\n          var t = this,\n            r = t.ready().then(function () {\n              for (var o = t._dbInfo.keyPrefix, i = localStorage.length - 1; i >= 0; i--) {\n                var n = localStorage.key(i);\n                n.indexOf(o) === 0 && localStorage.removeItem(n);\n              }\n            });\n          return _(r, e), r;\n        }\n        function Or(e, t) {\n          var r = this;\n          e = z(e);\n          var o = r.ready().then(function () {\n            var i = r._dbInfo,\n              n = localStorage.getItem(i.keyPrefix + e);\n            return n && (n = i.serializer.deserialize(n)), n;\n          });\n          return _(o, t), o;\n        }\n        function Cr(e, t) {\n          var r = this,\n            o = r.ready().then(function () {\n              for (var i = r._dbInfo, n = i.keyPrefix, f = n.length, u = localStorage.length, c = 1, l = 0; l < u; l++) {\n                var d = localStorage.key(l);\n                if (d.indexOf(n) === 0) {\n                  var y = localStorage.getItem(d);\n                  if (y && (y = i.serializer.deserialize(y)), y = e(y, d.substring(f), c++), y !== void 0) return y;\n                }\n              }\n            });\n          return _(o, t), o;\n        }\n        function Lr(e, t) {\n          var r = this,\n            o = r.ready().then(function () {\n              var i = r._dbInfo,\n                n;\n              try {\n                n = localStorage.key(e);\n              } catch {\n                n = null;\n              }\n              return n && (n = n.substring(i.keyPrefix.length)), n;\n            });\n          return _(o, t), o;\n        }\n        function Pr(e) {\n          var t = this,\n            r = t.ready().then(function () {\n              for (var o = t._dbInfo, i = localStorage.length, n = [], f = 0; f < i; f++) {\n                var u = localStorage.key(f);\n                u.indexOf(o.keyPrefix) === 0 && n.push(u.substring(o.keyPrefix.length));\n              }\n              return n;\n            });\n          return _(r, e), r;\n        }\n        function Mr(e) {\n          var t = this,\n            r = t.keys().then(function (o) {\n              return o.length;\n            });\n          return _(r, e), r;\n        }\n        function Fr(e, t) {\n          var r = this;\n          e = z(e);\n          var o = r.ready().then(function () {\n            var i = r._dbInfo;\n            localStorage.removeItem(i.keyPrefix + e);\n          });\n          return _(o, t), o;\n        }\n        function Ur(e, t, r) {\n          var o = this;\n          e = z(e);\n          var i = o.ready().then(function () {\n            t === void 0 && (t = null);\n            var n = t;\n            return new m(function (f, u) {\n              var c = o._dbInfo;\n              c.serializer.serialize(t, function (l, d) {\n                if (d) u(d);else try {\n                  localStorage.setItem(c.keyPrefix + e, l), f(n);\n                } catch (y) {\n                  (y.name === \"QuotaExceededError\" || y.name === \"NS_ERROR_DOM_QUOTA_REACHED\") && u(y), u(y);\n                }\n              });\n            });\n          });\n          return _(i, r), i;\n        }\n        function Yr(e, t) {\n          if (t = Z.apply(this, arguments), e = typeof e != \"function\" && e || {}, !e.name) {\n            var r = this.config();\n            e.name = e.name || r.name, e.storeName = e.storeName || r.storeName;\n          }\n          var o = this,\n            i;\n          return e.name ? i = new m(function (n) {\n            e.storeName ? n(Ge(e, o._defaultConfig)) : n(e.name + \"/\");\n          }).then(function (n) {\n            for (var f = localStorage.length - 1; f >= 0; f--) {\n              var u = localStorage.key(f);\n              u.indexOf(n) === 0 && localStorage.removeItem(u);\n            }\n          }) : i = m.reject(\"Invalid arguments\"), _(i, t), i;\n        }\n        var zr = {\n            _driver: \"localStorageWrapper\",\n            _initStorage: Br,\n            _support: Dr(),\n            iterate: Cr,\n            getItem: Or,\n            setItem: Ur,\n            removeItem: Fr,\n            clear: xr,\n            length: Mr,\n            key: Lr,\n            keys: Pr,\n            dropInstance: Yr\n          },\n          Wr = function (t, r) {\n            return t === r || typeof t == \"number\" && typeof r == \"number\" && isNaN(t) && isNaN(r);\n          },\n          Kr = function (t, r) {\n            for (var o = t.length, i = 0; i < o;) {\n              if (Wr(t[i], r)) return !0;\n              i++;\n            }\n            return !1;\n          },\n          je = Array.isArray || function (e) {\n            return Object.prototype.toString.call(e) === \"[object Array]\";\n          },\n          le = {},\n          Xe = {},\n          ue = {\n            INDEXEDDB: cr,\n            WEBSQL: Rr,\n            LOCALSTORAGE: zr\n          },\n          Hr = [ue.INDEXEDDB._driver, ue.WEBSQL._driver, ue.LOCALSTORAGE._driver],\n          me = [\"dropInstance\"],\n          Se = [\"clear\", \"getItem\", \"iterate\", \"key\", \"keys\", \"length\", \"removeItem\", \"setItem\"].concat(me),\n          Vr = {\n            description: \"\",\n            driver: Hr.slice(),\n            name: \"localforage\",\n            size: 4980736,\n            storeName: \"keyvaluepairs\",\n            version: 1\n          };\n        function Gr(e, t) {\n          e[t] = function () {\n            var r = arguments;\n            return e.ready().then(function () {\n              return e[t].apply(e, r);\n            });\n          };\n        }\n        function Ae() {\n          for (var e = 1; e < arguments.length; e++) {\n            var t = arguments[e];\n            if (t) for (var r in t) t.hasOwnProperty(r) && (je(t[r]) ? arguments[0][r] = t[r].slice() : arguments[0][r] = t[r]);\n          }\n          return arguments[0];\n        }\n        var jr = function () {\n            function e(t) {\n              Y(this, e);\n              for (var r in ue) if (ue.hasOwnProperty(r)) {\n                var o = ue[r],\n                  i = o._driver;\n                this[r] = i, le[i] || this.defineDriver(o);\n              }\n              this._defaultConfig = Ae({}, Vr), this._config = Ae({}, this._defaultConfig, t), this._driverSet = null, this._initDriver = null, this._ready = !1, this._dbInfo = null, this._wrapLibraryMethodsWithReady(), this.setDriver(this._config.driver).catch(function () {});\n            }\n            return e.prototype.config = function (r) {\n              if ((typeof r > \"u\" ? \"undefined\" : P(r)) === \"object\") {\n                if (this._ready) return new Error(\"Can't call config() after localforage has been used.\");\n                for (var o in r) {\n                  if (o === \"storeName\" && (r[o] = r[o].replace(/\\W/g, \"_\")), o === \"version\" && typeof r[o] != \"number\") return new Error(\"Database version must be a number.\");\n                  this._config[o] = r[o];\n                }\n                return \"driver\" in r && r.driver ? this.setDriver(this._config.driver) : !0;\n              } else return typeof r == \"string\" ? this._config[r] : this._config;\n            }, e.prototype.defineDriver = function (r, o, i) {\n              var n = new m(function (f, u) {\n                try {\n                  var c = r._driver,\n                    l = new Error(\"Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver\");\n                  if (!r._driver) {\n                    u(l);\n                    return;\n                  }\n                  for (var d = Se.concat(\"_initStorage\"), y = 0, S = d.length; y < S; y++) {\n                    var x = d[y],\n                      C = !Kr(me, x);\n                    if ((C || r[x]) && typeof r[x] != \"function\") {\n                      u(l);\n                      return;\n                    }\n                  }\n                  var K = function () {\n                    for (var de = function (Jr) {\n                        return function () {\n                          var $r = new Error(\"Method \" + Jr + \" is not implemented by the current driver\"),\n                            Qe = m.reject($r);\n                          return _(Qe, arguments[arguments.length - 1]), Qe;\n                        };\n                      }, Re = 0, Qr = me.length; Re < Qr; Re++) {\n                      var De = me[Re];\n                      r[De] || (r[De] = de(De));\n                    }\n                  };\n                  K();\n                  var W = function (de) {\n                    le[c] && console.info(\"Redefining LocalForage driver: \" + c), le[c] = r, Xe[c] = de, f();\n                  };\n                  \"_support\" in r ? r._support && typeof r._support == \"function\" ? r._support().then(W, u) : W(!!r._support) : W(!0);\n                } catch (q) {\n                  u(q);\n                }\n              });\n              return B(n, o, i), n;\n            }, e.prototype.driver = function () {\n              return this._driver || null;\n            }, e.prototype.getDriver = function (r, o, i) {\n              var n = le[r] ? m.resolve(le[r]) : m.reject(new Error(\"Driver not found.\"));\n              return B(n, o, i), n;\n            }, e.prototype.getSerializer = function (r) {\n              var o = m.resolve(Ie);\n              return B(o, r), o;\n            }, e.prototype.ready = function (r) {\n              var o = this,\n                i = o._driverSet.then(function () {\n                  return o._ready === null && (o._ready = o._initDriver()), o._ready;\n                });\n              return B(i, r, r), i;\n            }, e.prototype.setDriver = function (r, o, i) {\n              var n = this;\n              je(r) || (r = [r]);\n              var f = this._getSupportedDrivers(r);\n              function u() {\n                n._config.driver = n.driver();\n              }\n              function c(y) {\n                return n._extend(y), u(), n._ready = n._initStorage(n._config), n._ready;\n              }\n              function l(y) {\n                return function () {\n                  var S = 0;\n                  function x() {\n                    for (; S < y.length;) {\n                      var C = y[S];\n                      return S++, n._dbInfo = null, n._ready = null, n.getDriver(C).then(c).catch(x);\n                    }\n                    u();\n                    var K = new Error(\"No available storage method found.\");\n                    return n._driverSet = m.reject(K), n._driverSet;\n                  }\n                  return x();\n                };\n              }\n              var d = this._driverSet !== null ? this._driverSet.catch(function () {\n                return m.resolve();\n              }) : m.resolve();\n              return this._driverSet = d.then(function () {\n                var y = f[0];\n                return n._dbInfo = null, n._ready = null, n.getDriver(y).then(function (S) {\n                  n._driver = S._driver, u(), n._wrapLibraryMethodsWithReady(), n._initDriver = l(f);\n                });\n              }).catch(function () {\n                u();\n                var y = new Error(\"No available storage method found.\");\n                return n._driverSet = m.reject(y), n._driverSet;\n              }), B(this._driverSet, o, i), this._driverSet;\n            }, e.prototype.supports = function (r) {\n              return !!Xe[r];\n            }, e.prototype._extend = function (r) {\n              Ae(this, r);\n            }, e.prototype._getSupportedDrivers = function (r) {\n              for (var o = [], i = 0, n = r.length; i < n; i++) {\n                var f = r[i];\n                this.supports(f) && o.push(f);\n              }\n              return o;\n            }, e.prototype._wrapLibraryMethodsWithReady = function () {\n              for (var r = 0, o = Se.length; r < o; r++) Gr(this, Se[r]);\n            }, e.prototype.createInstance = function (r) {\n              return new e(r);\n            }, e;\n          }(),\n          Xr = new jr();\n        D.exports = Xr;\n      }, {\n        3: 3\n      }]\n    }, {}, [4])(4);\n  });\n});\nvar rr = $e((ye, er) => {\n  (function (b, A) {\n    typeof ye == \"object\" && typeof er < \"u\" ? A(ye) : typeof define == \"function\" && define.amd ? define(\"localforage-driver-memory\", [\"exports\"], A) : A(b.LocalforageDriverMemory = {});\n  })(typeof self < \"u\" ? self : ye, function (b) {\n    \"use strict\";\n\n    var A = \"localforage-driver-memory\";\n    function R(a) {\n      var s = typeof Symbol == \"function\" && a[Symbol.iterator],\n        v = 0;\n      return s ? s.call(a) : {\n        next: function () {\n          return a && v >= a.length && (a = void 0), {\n            value: a && a[v++],\n            done: !a\n          };\n        }\n      };\n    }\n    function L(a, s) {\n      a = a || [], s = s || {};\n      try {\n        return new Blob(a, s);\n      } catch (w) {\n        if (w.name !== \"TypeError\") throw w;\n        for (var v = typeof BlobBuilder < \"u\" ? BlobBuilder : typeof MSBlobBuilder < \"u\" ? MSBlobBuilder : typeof MozBlobBuilder < \"u\" ? MozBlobBuilder : WebKitBlobBuilder, p = new v(), g = 0; g < a.length; g += 1) p.append(a[g]);\n        return p.getBlob(s.type);\n      }\n    }\n    var D = /^~~local_forage_type~([^~]+)~/,\n      X = 9,\n      P = X + 4,\n      Y = Object.prototype.toString;\n    function I(a) {\n      var s = a.length * .75,\n        v = a.length;\n      a[a.length - 1] === \"=\" && (s--, a[a.length - 2] === \"=\" && s--);\n      for (var p = new ArrayBuffer(s), g = new Uint8Array(p), w = 0, T = 0; w < v; w += 4) {\n        var G = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(a[w]),\n          fe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(a[w + 1]),\n          ie = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(a[w + 2]),\n          ce = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".indexOf(a[w + 3]);\n        g[T++] = G << 2 | fe >> 4, g[T++] = (fe & 15) << 4 | ie >> 2, g[T++] = (ie & 3) << 6 | ce & 63;\n      }\n      return p;\n    }\n    function M(a) {\n      for (var s = new Uint8Array(a), v = \"\", p = 0; p < s.length; p += 3) v += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"[s[p] >> 2], v += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"[(s[p] & 3) << 4 | s[p + 1] >> 4], v += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"[(s[p + 1] & 15) << 2 | s[p + 2] >> 6], v += \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"[s[p + 2] & 63];\n      return s.length % 3 === 2 ? v = v.substring(0, v.length - 1) + \"=\" : s.length % 3 === 1 && (v = v.substring(0, v.length - 2) + \"==\"), v;\n    }\n    function H(a, s) {\n      var v = \"\";\n      if (a && (v = Y.call(a)), a && (v === \"[object ArrayBuffer]\" || a.buffer && Y.call(a.buffer) === \"[object ArrayBuffer]\")) {\n        var p = void 0,\n          g = \"__lfsc__:\";\n        a instanceof ArrayBuffer ? (p = a, g += \"arbf\") : (p = a.buffer, v === \"[object Int8Array]\" ? g += \"si08\" : v === \"[object Uint8Array]\" ? g += \"ui08\" : v === \"[object Uint8ClampedArray]\" ? g += \"uic8\" : v === \"[object Int16Array]\" ? g += \"si16\" : v === \"[object Uint16Array]\" ? g += \"ur16\" : v === \"[object Int32Array]\" ? g += \"si32\" : v === \"[object Uint32Array]\" ? g += \"ui32\" : v === \"[object Float32Array]\" ? g += \"fl32\" : v === \"[object Float64Array]\" ? g += \"fl64\" : s(new Error(\"Failed to get type for BinaryArray\"))), s(g + M(p));\n      } else if (v === \"[object Blob]\") {\n        var w = new FileReader();\n        w.onload = function () {\n          var T = \"~~local_forage_type~\" + a.type + \"~\" + M(this.result);\n          s(\"__lfsc__:blob\" + T);\n        }, w.readAsArrayBuffer(a);\n      } else try {\n        s(JSON.stringify(a));\n      } catch (T) {\n        console.error(\"Couldn't convert value into a JSON string: \", a), s(null, T);\n      }\n    }\n    function $(a) {\n      if (a.substring(0, X) !== \"__lfsc__:\") return JSON.parse(a);\n      var s = a.substring(P),\n        v = a.substring(X, P),\n        p;\n      if (v === \"blob\" && D.test(s)) {\n        var g = s.match(D);\n        p = g[1], s = s.substring(g[0].length);\n      }\n      var w = I(s);\n      switch (v) {\n        case \"arbf\":\n          return w;\n        case \"blob\":\n          return L([w], {\n            type: p\n          });\n        case \"si08\":\n          return new Int8Array(w);\n        case \"ui08\":\n          return new Uint8Array(w);\n        case \"uic8\":\n          return new Uint8ClampedArray(w);\n        case \"si16\":\n          return new Int16Array(w);\n        case \"ur16\":\n          return new Uint16Array(w);\n        case \"si32\":\n          return new Int32Array(w);\n        case \"ui32\":\n          return new Uint32Array(w);\n        case \"fl32\":\n          return new Float32Array(w);\n        case \"fl64\":\n          return new Float64Array(w);\n        default:\n          throw new Error(\"Unkown type: \" + v);\n      }\n    }\n    function m(a) {\n      var s, v;\n      if (a === null || typeof a != \"object\" || \"isActiveClone\" in a) return a;\n      var p = a instanceof Date ? new Date(a) : a.constructor();\n      try {\n        for (var g = R(Object.keys(a)), w = g.next(); !w.done; w = g.next()) {\n          var T = w.value;\n          Object.prototype.hasOwnProperty.call(a, T) && (a.isActiveClone = null, p[T] = m(a[T]), delete a.isActiveClone);\n        }\n      } catch (G) {\n        s = {\n          error: G\n        };\n      } finally {\n        try {\n          w && !w.done && (v = g.return) && v.call(g);\n        } finally {\n          if (s) throw s.error;\n        }\n      }\n      return p;\n    }\n    function _(a, s) {\n      return (a.name || s.name) + \"/\" + (a.storeName || s.storeName) + \"/\";\n    }\n    function B(a, s) {\n      s && a.then(function (v) {\n        s(null, v);\n      }, function (v) {\n        s(v);\n      });\n    }\n    function z() {\n      for (var a = [], s = 0; s < arguments.length; s++) a[s] = arguments[s];\n      if (arguments.length && typeof arguments[arguments.length - 1] == \"function\") return arguments[arguments.length - 1];\n    }\n    function Z(a, s) {\n      var v = this;\n      if (s = z.apply(this, arguments), a = typeof a != \"function\" && a || {}, !a.name) {\n        var p = this.config();\n        a.name = a.name || p.name, a.storeName = a.storeName || p.storeName;\n      }\n      var g;\n      return a.name ? g = new Promise(function (w) {\n        a.storeName ? w(_(a, v._defaultConfig)) : w(a.name + \"/\");\n      }) : g = Promise.reject(\"Invalid arguments\"), {\n        promise: g,\n        callback: s\n      };\n    }\n    function F(a) {\n      return typeof a != \"string\" && (console.warn(a + \" used as a key, but it is not a string.\"), a = String(a)), a;\n    }\n    var k = {\n        bufferToString: M,\n        deserialize: $,\n        serialize: H,\n        stringToBuffer: I\n      },\n      U = {},\n      ae = function () {\n        function a(s) {\n          this.kp = s, this.data = {};\n        }\n        return a.resolve = function (s) {\n          return U[s] || (U[s] = new a(s)), U[s];\n        }, a.prototype.clear = function () {\n          this.data = {};\n        }, a.prototype.drop = function () {\n          this.clear(), delete U[this.kp];\n        }, a.prototype.get = function (s) {\n          return this.data[s];\n        }, a.prototype.key = function (s) {\n          return this.keys()[s];\n        }, a.prototype.keys = function () {\n          return Object.keys(this.data);\n        }, a.prototype.rm = function (s) {\n          delete this.data[s];\n        }, a.prototype.set = function (s, v) {\n          this.data[s] = v;\n        }, a;\n      }();\n    function re(a) {\n      var s = a ? m(a) : {},\n        v = _(s, this._defaultConfig),\n        p = ae.resolve(v);\n      return this._dbInfo = s, this._dbInfo.serializer = k, this._dbInfo.keyPrefix = v, this._dbInfo.mStore = p, Promise.resolve();\n    }\n    function h(a) {\n      var s = this,\n        v = this.ready().then(function () {\n          s._dbInfo.mStore.clear();\n        });\n      return B(v, a), v;\n    }\n    function N(a, s) {\n      var v = Z.apply(this, arguments),\n        p = v.promise,\n        g = v.callback,\n        w = p.then(function (T) {\n          ae.resolve(T).drop();\n        });\n      return B(w, g), p;\n    }\n    function E(a, s) {\n      var v = this;\n      a = F(a);\n      var p = this.ready().then(function () {\n        var g = v._dbInfo.mStore.get(a);\n        return g == null ? null : v._dbInfo.serializer.deserialize(g);\n      });\n      return B(p, s), p;\n    }\n    function O(a, s) {\n      var v = this,\n        p = this.ready().then(function () {\n          for (var g = v._dbInfo.mStore, w = g.keys(), T = 0; T < w.length; T++) {\n            var G = g.get(w[T]);\n            if (G && (G = v._dbInfo.serializer.deserialize(G)), G = a(G, w[T], T + 1), G !== void 0) return G;\n          }\n        });\n      return B(p, s), p;\n    }\n    function V(a, s) {\n      var v = this,\n        p = this.ready().then(function () {\n          var g;\n          try {\n            g = v._dbInfo.mStore.key(a), g === void 0 && (g = null);\n          } catch {\n            g = null;\n          }\n          return g;\n        });\n      return B(p, s), p;\n    }\n    function j(a) {\n      var s = this,\n        v = this.ready().then(function () {\n          return s._dbInfo.mStore.keys();\n        });\n      return B(v, a), v;\n    }\n    function Q(a) {\n      var s = this.keys().then(function (v) {\n        return v.length;\n      });\n      return B(s, a), s;\n    }\n    function J(a, s) {\n      var v = this;\n      a = F(a);\n      var p = this.ready().then(function () {\n        v._dbInfo.mStore.rm(a);\n      });\n      return B(p, s), p;\n    }\n    function ee(a, s, v) {\n      var p = this;\n      a = F(a);\n      var g = this.ready().then(function () {\n        s === void 0 && (s = null);\n        var w = s;\n        return new Promise(function (T, G) {\n          p._dbInfo.serializer.serialize(s, function (fe, ie) {\n            if (ie) G(ie);else try {\n              p._dbInfo.mStore.set(a, fe), T(w);\n            } catch (ce) {\n              G(ce);\n            }\n          });\n        });\n      });\n      return B(g, v), g;\n    }\n    var oe = !0;\n    b._support = oe, b._driver = A, b._initStorage = re, b.clear = h, b.dropInstance = N, b.getItem = E, b.iterate = O, b.key = V, b.keys = j, b.length = Q, b.removeItem = J, b.setItem = ee, Object.defineProperty(b, \"__esModule\", {\n      value: !0\n    });\n  });\n});\nvar ge = Ze(ke()),\n  Te = Ze(rr());\nimport { SDKBase as st, createSDK as ct } from \"@magic-sdk/provider\";\nimport { ViewController as nt, createDuplicateIframeWarning as ot, createURL as tr, createModalNotReadyError as it } from \"@magic-sdk/provider\";\nvar at = {\n  display: \"none\",\n  position: \"fixed\",\n  top: \"0\",\n  right: \"0\",\n  width: \"100%\",\n  height: \"100%\",\n  borderRadius: \"0\",\n  border: \"none\",\n  zIndex: \"2147483647\"\n};\nfunction ft(b) {\n  for (let [A, R] of Object.entries(at)) b.style[A] = R;\n}\nfunction ut(b) {\n  let A = [].slice.call(document.querySelectorAll(\".magic-iframe\"));\n  return Boolean(A.find(R => R.src.includes(b)));\n}\nvar pe = class extends nt {\n  constructor() {\n    super(...arguments);\n    this.activeElement = null;\n  }\n  init() {\n    this.test = \"hello\", this.iframe = new Promise(R => {\n      let L = () => {\n        if (ut(encodeURIComponent(this.parameters))) ot().log();else {\n          let D = document.createElement(\"iframe\");\n          D.classList.add(\"magic-iframe\"), D.dataset.magicIframeLabel = tr(this.endpoint).host, D.title = \"Secure Modal\", D.src = tr(`/send?params=${encodeURIComponent(this.parameters)}`, this.endpoint).href, ft(D), document.body.appendChild(D), R(D);\n        }\n      };\n      [\"loaded\", \"interactive\", \"complete\"].includes(document.readyState) ? L() : window.addEventListener(\"load\", L, !1);\n    }), window.addEventListener(\"message\", R => {\n      var L;\n      if (R.origin === this.endpoint && R.data && R.data.msgType && this.messageHandlers.size) {\n        R.data.response = (L = R.data.response) != null ? L : {};\n        for (let D of this.messageHandlers.values()) D(R);\n      }\n    });\n  }\n  showOverlay() {\n    return se(this, null, function* () {\n      let R = yield this.iframe;\n      R.style.display = \"block\", this.activeElement = document.activeElement, R.focus();\n    });\n  }\n  hideOverlay() {\n    return se(this, null, function* () {\n      var L;\n      let R = yield this.iframe;\n      R.style.display = \"none\", (L = this.activeElement) != null && L.focus && this.activeElement.focus(), this.activeElement = null;\n    });\n  }\n  _post(R) {\n    return se(this, null, function* () {\n      let L = yield this.iframe;\n      if (L && L.contentWindow) L.contentWindow.postMessage(R, this.endpoint);else throw it();\n    });\n  }\n};\nexport * from \"@magic-sdk/commons\";\nvar bt = ct(st, {\n  platform: \"web\",\n  sdkName: \"magic-sdk\",\n  version: \"17.3.0\",\n  defaultEndpoint: \"https://auth.magic.link/\",\n  ViewController: pe,\n  configureStorage: () => se(void 0, null, function* () {\n    let b = ge.default.createInstance({\n      name: \"MagicAuthLocalStorageDB\",\n      storeName: \"MagicAuthLocalStorage\"\n    });\n    return yield b.defineDriver(Te), yield b.setDriver([ge.default.INDEXEDDB, ge.default.LOCALSTORAGE, Te._driver]), b;\n  })\n});\nexport { bt as Magic };\n//# sourceMappingURL=index.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}